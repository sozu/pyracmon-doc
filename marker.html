<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pyracmon.marker API documentation</title>
<meta name="description" content="This module provides the abstration mechanism for marker creation used to embed parameters in a query …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pyracmon.marker</code></h1>
</header>
<section id="section-intro">
<p>This module provides the abstration mechanism for marker creation used to embed parameters in a query.</p>
<p>DB-API 2.0 defines some <code>paramstyle</code>s and available style depends on DB driver.
In addition, some styles are not suitable for query construction in python code.
This library adopts unified marker <code>$_</code> instead of the styles to make things simple.</p>
<p>Everything in this module is used internally in most cases, thus user does not need to know the detail.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
This module provides the abstration mechanism for marker creation used to embed parameters in a query.

DB-API 2.0 defines some `paramstyle`s and available style depends on DB driver.
In addition, some styles are not suitable for query construction in python code.
This library adopts unified marker `$_` instead of the styles to make things simple.

Everything in this module is used internally in most cases, thus user does not need to know the detail.
&#34;&#34;&#34;
from typing import *


class Marker:
    &#34;&#34;&#34;
    Base class to enable unified marker instead of markers defined in DB-API 2.0.

    Each subclass corresponds to a `paramstyle` and implements methods to convert unified marker into its style.
    &#34;&#34;&#34;
    @classmethod
    def of(cls, paramstyle: str) -&gt; &#39;Marker&#39;:
        &#34;&#34;&#34;
        Creates an instance for given `paramstyle`.

        Args:
            paramstyle: The name of `paramstyle` defined in DB-API 2.0.
        Returns:
            Created instance.
        &#34;&#34;&#34;
        if paramstyle == &#39;qmark&#39;:
            return QMarker()
        elif paramstyle == &#39;numeric&#39;:
            return NumericMarker()
        elif paramstyle == &#39;named&#39;:
            return NamedMarker()
        elif paramstyle == &#39;format&#39;:
            return FormatMarker()
        elif paramstyle == &#39;pyformat&#39;:
            return PyformatMarker()
        else:
            raise ValueError(f&#34;Unknown parameter style: {paramstyle}&#34;)

    def __call__(self, key: Optional[Union[int, str]] = None) -&gt; str:
        &#34;&#34;&#34;
        Renders a marker string for the key.

        Each invocation changes internal state of this instance.

        Args:
            key: A key which indicates the parameter. Type of the key depends on the style.
        Returns:
            Marker string.
        &#34;&#34;&#34;
        if key is None:
            return self.default()
        elif isinstance(key, int) and key &gt; 0:
            return self.indexed(key)
        elif isinstance(key, str) and key != &#34;&#34;:
            return self.keyed(key)
        else:
            raise ValueError(&#34;Argument of marker invocation must be a positive int or str.&#34;)

    def default(self) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of marker which is not indexed and keyed.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def indexed(self, index: int) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of indexed marker.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def keyed(self, key: str) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of keyed marker.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def reset(self):
        &#34;&#34;&#34;
        Resets the internal state.
        &#34;&#34;&#34;
        pass

    def params(self, *args: Any, **kwargs: Any) -&gt; Union[List[Any], Dict[str, Any]]:
        &#34;&#34;&#34;
        Generates parameters in the form which is available for query execution.

        This method adjusts the form of given parameters according to the internal state
        which has been changed on each marker generation.

        Args:
            args: Parameters for indexed markers.
            kwargs: Parameters for keyed markers.
        Returns:
            List or dictionary of parameters.
        &#34;&#34;&#34;
        raise NotImplementedError()


class ListMarker(Marker):
    def __init__(self, start=0):
        self.index = start
        self.param_keys = []

    def render(self):
        raise NotImplementedError()

    def default(self):
        self.param_keys.append(self.index)
        self.index += 1
        return self.render()

    def indexed(self, index):
        self.param_keys.append(index-1)
        return self.render()

    def keyed(self, key):
        self.param_keys.append(key)
        return self.render()

    def reset(self):
        self.index = 0
        self.param_keys = []

    def params(self, *args, **kwargs):
        def get(k):
            if isinstance(k, int):
                return args[k]
            else:
                return kwargs[k]

        return [get(k) for k in self.param_keys]


class DictMarker(Marker):
    def __init__(self, start=0):
        self.index = start
        self.param_keys = {}

    def render(self, key):
        raise NotImplementedError()

    def new_key(self, index):
        return f&#34;param{index}&#34;

    def default(self):
        key = self.param_keys.setdefault(self.index, self.new_key(self.index+1))
        self.index += 1
        return self.render(key)

    def indexed(self, index):
        key = self.param_keys.setdefault(index-1, self.new_key(index))
        return self.render(key)

    def keyed(self, key):
        self.param_keys[key] = key
        return self.render(key)

    def reset(self):
        self.index = 0
        self.param_keys = {}

    def params(self, *args, **kwargs):
        def get(k, v):
            if isinstance(k, int):
                return (v, args[k])
            else:
                return (v, kwargs[k])

        return dict([get(k, v) for k, v in self.param_keys.items()])


class QMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `?` for any parameter.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return &#39;?&#39;


class NumericMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `:x` for the parameter at index `x` (starting from 1).

    Automatic numbering is used when invoked with no `key`, otherwise specified position is selected.
    The index obtained by next automatic numbering is an incremented value of the last obtained index.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return f&#34;:{len(self.param_keys)}&#34;


class NamedMarker(DictMarker):
    &#34;&#34;&#34;
    This marker renders `:key` for the parameter bound to `key`.

    Automatic key selection is used when invoked with no `key`, otherwise specified key is selected.
    Each automatic key is in the form of `keyn` where `n` is specified index or its order in generated keys.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self, key: str) -&gt; str:
        return f&#34;:{key}&#34;


class FormatMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `%s` for any parameter.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return &#39;%s&#39;


class PyformatMarker(DictMarker):
    &#34;&#34;&#34;
    This marker renders `%(key)s` for the parameter bound to `key`.

    This works similarly to `NamedMarker`.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self, key: str) -&gt; str:
        return f&#34;%({key})s&#34;</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pyracmon.marker.DictMarker"><code class="flex name class">
<span>class <span class="ident">DictMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>Base class to enable unified marker instead of markers defined in DB-API 2.0.</p>
<p>Each subclass corresponds to a <code>paramstyle</code> and implements methods to convert unified marker into its style.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DictMarker(Marker):
    def __init__(self, start=0):
        self.index = start
        self.param_keys = {}

    def render(self, key):
        raise NotImplementedError()

    def new_key(self, index):
        return f&#34;param{index}&#34;

    def default(self):
        key = self.param_keys.setdefault(self.index, self.new_key(self.index+1))
        self.index += 1
        return self.render(key)

    def indexed(self, index):
        key = self.param_keys.setdefault(index-1, self.new_key(index))
        return self.render(key)

    def keyed(self, key):
        self.param_keys[key] = key
        return self.render(key)

    def reset(self):
        self.index = 0
        self.param_keys = {}

    def params(self, *args, **kwargs):
        def get(k, v):
            if isinstance(k, int):
                return (v, args[k])
            else:
                return (v, kwargs[k])

        return dict([get(k, v) for k, v in self.param_keys.items()])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.NamedMarker" href="#pyracmon.marker.NamedMarker">NamedMarker</a></li>
<li><a title="pyracmon.marker.PyformatMarker" href="#pyracmon.marker.PyformatMarker">PyformatMarker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.DictMarker.new_key"><code class="name flex">
<span>def <span class="ident">new_key</span></span>(<span>self, index)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def new_key(self, index):
    return f&#34;param{index}&#34;</code></pre>
</details>
</dd>
<dt id="pyracmon.marker.DictMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, key)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, key):
    raise NotImplementedError()</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.Marker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.Marker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.Marker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.Marker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.FormatMarker"><code class="flex name class">
<span>class <span class="ident">FormatMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>This marker renders <code>%s</code> for any parameter.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FormatMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `%s` for any parameter.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return &#39;%s&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></li>
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.FormatMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self) -&gt; str:
    return &#39;%s&#39;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.ListMarker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.ListMarker"><code class="flex name class">
<span>class <span class="ident">ListMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>Base class to enable unified marker instead of markers defined in DB-API 2.0.</p>
<p>Each subclass corresponds to a <code>paramstyle</code> and implements methods to convert unified marker into its style.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ListMarker(Marker):
    def __init__(self, start=0):
        self.index = start
        self.param_keys = []

    def render(self):
        raise NotImplementedError()

    def default(self):
        self.param_keys.append(self.index)
        self.index += 1
        return self.render()

    def indexed(self, index):
        self.param_keys.append(index-1)
        return self.render()

    def keyed(self, key):
        self.param_keys.append(key)
        return self.render()

    def reset(self):
        self.index = 0
        self.param_keys = []

    def params(self, *args, **kwargs):
        def get(k):
            if isinstance(k, int):
                return args[k]
            else:
                return kwargs[k]

        return [get(k) for k in self.param_keys]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.FormatMarker" href="#pyracmon.marker.FormatMarker">FormatMarker</a></li>
<li><a title="pyracmon.marker.NumericMarker" href="#pyracmon.marker.NumericMarker">NumericMarker</a></li>
<li><a title="pyracmon.marker.QMarker" href="#pyracmon.marker.QMarker">QMarker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.ListMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self):
    raise NotImplementedError()</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.Marker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.Marker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.Marker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.Marker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.Marker"><code class="flex name class">
<span>class <span class="ident">Marker</span></span>
</code></dt>
<dd>
<div class="desc"><p>Base class to enable unified marker instead of markers defined in DB-API 2.0.</p>
<p>Each subclass corresponds to a <code>paramstyle</code> and implements methods to convert unified marker into its style.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Marker:
    &#34;&#34;&#34;
    Base class to enable unified marker instead of markers defined in DB-API 2.0.

    Each subclass corresponds to a `paramstyle` and implements methods to convert unified marker into its style.
    &#34;&#34;&#34;
    @classmethod
    def of(cls, paramstyle: str) -&gt; &#39;Marker&#39;:
        &#34;&#34;&#34;
        Creates an instance for given `paramstyle`.

        Args:
            paramstyle: The name of `paramstyle` defined in DB-API 2.0.
        Returns:
            Created instance.
        &#34;&#34;&#34;
        if paramstyle == &#39;qmark&#39;:
            return QMarker()
        elif paramstyle == &#39;numeric&#39;:
            return NumericMarker()
        elif paramstyle == &#39;named&#39;:
            return NamedMarker()
        elif paramstyle == &#39;format&#39;:
            return FormatMarker()
        elif paramstyle == &#39;pyformat&#39;:
            return PyformatMarker()
        else:
            raise ValueError(f&#34;Unknown parameter style: {paramstyle}&#34;)

    def __call__(self, key: Optional[Union[int, str]] = None) -&gt; str:
        &#34;&#34;&#34;
        Renders a marker string for the key.

        Each invocation changes internal state of this instance.

        Args:
            key: A key which indicates the parameter. Type of the key depends on the style.
        Returns:
            Marker string.
        &#34;&#34;&#34;
        if key is None:
            return self.default()
        elif isinstance(key, int) and key &gt; 0:
            return self.indexed(key)
        elif isinstance(key, str) and key != &#34;&#34;:
            return self.keyed(key)
        else:
            raise ValueError(&#34;Argument of marker invocation must be a positive int or str.&#34;)

    def default(self) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of marker which is not indexed and keyed.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def indexed(self, index: int) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of indexed marker.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def keyed(self, key: str) -&gt; str:
        &#34;&#34;&#34;
        Generates a string of keyed marker.

        Returns:
            Marker string.
        &#34;&#34;&#34;
        raise NotImplementedError()

    def reset(self):
        &#34;&#34;&#34;
        Resets the internal state.
        &#34;&#34;&#34;
        pass

    def params(self, *args: Any, **kwargs: Any) -&gt; Union[List[Any], Dict[str, Any]]:
        &#34;&#34;&#34;
        Generates parameters in the form which is available for query execution.

        This method adjusts the form of given parameters according to the internal state
        which has been changed on each marker generation.

        Args:
            args: Parameters for indexed markers.
            kwargs: Parameters for keyed markers.
        Returns:
            List or dictionary of parameters.
        &#34;&#34;&#34;
        raise NotImplementedError()</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></li>
<li><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="pyracmon.marker.Marker.of"><code class="name flex">
<span>def <span class="ident">of</span></span>(<span>paramstyle: str) ‑> <a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></span>
</code></dt>
<dd>
<div class="desc"><p>Creates an instance for given <code>paramstyle</code>.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>paramstyle</code></strong></dt>
<dd>The name of <code>paramstyle</code> defined in DB-API 2.0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Created instance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def of(cls, paramstyle: str) -&gt; &#39;Marker&#39;:
    &#34;&#34;&#34;
    Creates an instance for given `paramstyle`.

    Args:
        paramstyle: The name of `paramstyle` defined in DB-API 2.0.
    Returns:
        Created instance.
    &#34;&#34;&#34;
    if paramstyle == &#39;qmark&#39;:
        return QMarker()
    elif paramstyle == &#39;numeric&#39;:
        return NumericMarker()
    elif paramstyle == &#39;named&#39;:
        return NamedMarker()
    elif paramstyle == &#39;format&#39;:
        return FormatMarker()
    elif paramstyle == &#39;pyformat&#39;:
        return PyformatMarker()
    else:
        raise ValueError(f&#34;Unknown parameter style: {paramstyle}&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.Marker.default"><code class="name flex">
<span>def <span class="ident">default</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Generates a string of marker which is not indexed and keyed.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def default(self) -&gt; str:
    &#34;&#34;&#34;
    Generates a string of marker which is not indexed and keyed.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="pyracmon.marker.Marker.indexed"><code class="name flex">
<span>def <span class="ident">indexed</span></span>(<span>self, index: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Generates a string of indexed marker.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def indexed(self, index: int) -&gt; str:
    &#34;&#34;&#34;
    Generates a string of indexed marker.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="pyracmon.marker.Marker.keyed"><code class="name flex">
<span>def <span class="ident">keyed</span></span>(<span>self, key: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Generates a string of keyed marker.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def keyed(self, key: str) -&gt; str:
    &#34;&#34;&#34;
    Generates a string of keyed marker.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="pyracmon.marker.Marker.params"><code class="name flex">
<span>def <span class="ident">params</span></span>(<span>self, *args: Any, **kwargs: Any) ‑> Union[List[Any], Dict[str, Any]]</span>
</code></dt>
<dd>
<div class="desc"><p>Generates parameters in the form which is available for query execution.</p>
<p>This method adjusts the form of given parameters according to the internal state
which has been changed on each marker generation.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>args</code></strong></dt>
<dd>Parameters for indexed markers.</dd>
<dt><strong><code>kwargs</code></strong></dt>
<dd>Parameters for keyed markers.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>List or dictionary of parameters.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def params(self, *args: Any, **kwargs: Any) -&gt; Union[List[Any], Dict[str, Any]]:
    &#34;&#34;&#34;
    Generates parameters in the form which is available for query execution.

    This method adjusts the form of given parameters according to the internal state
    which has been changed on each marker generation.

    Args:
        args: Parameters for indexed markers.
        kwargs: Parameters for keyed markers.
    Returns:
        List or dictionary of parameters.
    &#34;&#34;&#34;
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="pyracmon.marker.Marker.reset"><code class="name flex">
<span>def <span class="ident">reset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Resets the internal state.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset(self):
    &#34;&#34;&#34;
    Resets the internal state.
    &#34;&#34;&#34;
    pass</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pyracmon.marker.NamedMarker"><code class="flex name class">
<span>class <span class="ident">NamedMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>This marker renders <code>:key</code> for the parameter bound to <code>key</code>.</p>
<p>Automatic key selection is used when invoked with no <code>key</code>, otherwise specified key is selected.
Each automatic key is in the form of <code>keyn</code> where <code>n</code> is specified index or its order in generated keys.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NamedMarker(DictMarker):
    &#34;&#34;&#34;
    This marker renders `:key` for the parameter bound to `key`.

    Automatic key selection is used when invoked with no `key`, otherwise specified key is selected.
    Each automatic key is in the form of `keyn` where `n` is specified index or its order in generated keys.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self, key: str) -&gt; str:
        return f&#34;:{key}&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></li>
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.NamedMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, key: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, key: str) -&gt; str:
    return f&#34;:{key}&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.DictMarker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.NumericMarker"><code class="flex name class">
<span>class <span class="ident">NumericMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>This marker renders <code>:x</code> for the parameter at index <code>x</code> (starting from 1).</p>
<p>Automatic numbering is used when invoked with no <code>key</code>, otherwise specified position is selected.
The index obtained by next automatic numbering is an incremented value of the last obtained index.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NumericMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `:x` for the parameter at index `x` (starting from 1).

    Automatic numbering is used when invoked with no `key`, otherwise specified position is selected.
    The index obtained by next automatic numbering is an incremented value of the last obtained index.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return f&#34;:{len(self.param_keys)}&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></li>
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.NumericMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self) -&gt; str:
    return f&#34;:{len(self.param_keys)}&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.ListMarker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.PyformatMarker"><code class="flex name class">
<span>class <span class="ident">PyformatMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>This marker renders <code>%(key)s</code> for the parameter bound to <code>key</code>.</p>
<p>This works similarly to <code><a title="pyracmon.marker.NamedMarker" href="#pyracmon.marker.NamedMarker">NamedMarker</a></code>.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PyformatMarker(DictMarker):
    &#34;&#34;&#34;
    This marker renders `%(key)s` for the parameter bound to `key`.

    This works similarly to `NamedMarker`.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self, key: str) -&gt; str:
        return f&#34;%({key})s&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></li>
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.PyformatMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, key: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, key: str) -&gt; str:
    return f&#34;%({key})s&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.DictMarker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pyracmon.marker.QMarker"><code class="flex name class">
<span>class <span class="ident">QMarker</span></span>
<span>(</span><span>start=0)</span>
</code></dt>
<dd>
<div class="desc"><p>This marker renders <code>?</code> for any parameter.</p>
<h2 id="returns">Returns</h2>
<p>Marker string.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class QMarker(ListMarker):
    &#34;&#34;&#34;
    This marker renders `?` for any parameter.

    Returns:
        Marker string.
    &#34;&#34;&#34;
    def render(self) -&gt; str:
        return &#39;?&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></li>
<li><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pyracmon.marker.QMarker.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self) -&gt; str:
    return &#39;?&#39;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></b></code>:
<ul class="hlist">
<li><code><a title="pyracmon.marker.ListMarker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.ListMarker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pyracmon" href="index.html">pyracmon</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pyracmon.marker.DictMarker" href="#pyracmon.marker.DictMarker">DictMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.DictMarker.new_key" href="#pyracmon.marker.DictMarker.new_key">new_key</a></code></li>
<li><code><a title="pyracmon.marker.DictMarker.render" href="#pyracmon.marker.DictMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.FormatMarker" href="#pyracmon.marker.FormatMarker">FormatMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.FormatMarker.render" href="#pyracmon.marker.FormatMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.ListMarker" href="#pyracmon.marker.ListMarker">ListMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.ListMarker.render" href="#pyracmon.marker.ListMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.Marker" href="#pyracmon.marker.Marker">Marker</a></code></h4>
<ul class="two-column">
<li><code><a title="pyracmon.marker.Marker.default" href="#pyracmon.marker.Marker.default">default</a></code></li>
<li><code><a title="pyracmon.marker.Marker.indexed" href="#pyracmon.marker.Marker.indexed">indexed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.keyed" href="#pyracmon.marker.Marker.keyed">keyed</a></code></li>
<li><code><a title="pyracmon.marker.Marker.of" href="#pyracmon.marker.Marker.of">of</a></code></li>
<li><code><a title="pyracmon.marker.Marker.params" href="#pyracmon.marker.Marker.params">params</a></code></li>
<li><code><a title="pyracmon.marker.Marker.reset" href="#pyracmon.marker.Marker.reset">reset</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.NamedMarker" href="#pyracmon.marker.NamedMarker">NamedMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.NamedMarker.render" href="#pyracmon.marker.NamedMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.NumericMarker" href="#pyracmon.marker.NumericMarker">NumericMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.NumericMarker.render" href="#pyracmon.marker.NumericMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.PyformatMarker" href="#pyracmon.marker.PyformatMarker">PyformatMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.PyformatMarker.render" href="#pyracmon.marker.PyformatMarker.render">render</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyracmon.marker.QMarker" href="#pyracmon.marker.QMarker">QMarker</a></code></h4>
<ul class="">
<li><code><a title="pyracmon.marker.QMarker.render" href="#pyracmon.marker.QMarker.render">render</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>